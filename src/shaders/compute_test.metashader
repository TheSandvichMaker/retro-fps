@metashader
{
	exports = {
		compute_test_draw_parameters_t = cbuffer {
			input_buffer  = StructuredBuffer(float),
			output_buffer = RWStructuredBuffer(float),
		},
	},

	draw_parameters = compute_test_draw_parameters_t,

	shaders = {
		compute_test_cs = { target = "cs_6_6" }
	},
}

[numthreads(128, 1, 1)]
void compute_test_cs(int id : SV_DispatchThreadID)
{
	StructuredBuffer<float>   input_buffer  = draw.input_buffer .Get();
	RWStructuredBuffer<float> output_buffer = draw.output_buffer.Get();

	float input = input_buffer[id];

	// Super cool compute kernel
	float result = input * input;

	output_buffer[id] = result;
}
